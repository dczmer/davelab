<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Tmux Configuration</title>
    <link rel="stylesheet" href="http://localhost:4000//jekyll-test/css/reset.css" />
    <link rel="stylesheet" href="http://localhost:4000//jekyll-test/css/dracula-rouge.css" />
    <link rel="stylesheet" href="http://localhost:4000//jekyll-test/css/site.css" />
    <link rel="shortuct icon" type="image/ico" href="http://localhost:4000//jekyll-test/img/favicon.ico" />
  </head>
  <body>
    <header>
      <section>
        <a href="/jekyll-test/"> davelab</a>
      </section>
      <section title="I feel like there needs to be something on this side...">
        <a href="https://github.com/dczmer/davelab.git">
           GitHub
        </a>
      </section>
    </header>
    <nav>
      <section>
        
        
          
          
          
        
          
          
          
            <section class="subnav">
              <span class="">
                Zsh configuration
              </span>
              <ul class="subnav-inactive">
                
                
                  <li>
                    <a
                      class=""
                      href="http://localhost:4000/jekyll-test/zsh_configuration/index"
                    >
                      ZSH Configuration Intro
                    </a>
                  </li>
                
                  <li>
                    <a
                      class=""
                      href="http://localhost:4000/jekyll-test/zsh_configuration/01_zsh-config"
                    >
                      Basic ZSH Configuration
                    </a>
                  </li>
                
                  <li>
                    <a
                      class=""
                      href="http://localhost:4000/jekyll-test/zsh_configuration/02_prompt"
                    >
                      Configuring Your Prompt
                    </a>
                  </li>
                
                  <li>
                    <a
                      class=""
                      href="http://localhost:4000/jekyll-test/zsh_configuration/03_completion"
                    >
                      The Completion System
                    </a>
                  </li>
                
                  <li>
                    <a
                      class=""
                      href="http://localhost:4000/jekyll-test/zsh_configuration/04_complete-setup"
                    >
                      Completed Configuration
                    </a>
                  </li>
                
              </ul>
            </section>
          
        
          
          
          
            <section class="subnav">
              <span class="">
                Using the shell
              </span>
              <ul class="subnav-inactive">
                
                
                  <li>
                    <a
                      class=""
                      href="http://localhost:4000/jekyll-test/using_the_shell/index"
                    >
                      Shell Intro
                    </a>
                  </li>
                
                  <li>
                    <a
                      class=""
                      href="http://localhost:4000/jekyll-test/using_the_shell/01_help-hisory"
                    >
                      Finding Help
                    </a>
                  </li>
                
                  <li>
                    <a
                      class=""
                      href="http://localhost:4000/jekyll-test/using_the_shell/02_expansion-signals"
                    >
                      Expansion and Signals
                    </a>
                  </li>
                
                  <li>
                    <a
                      class=""
                      href="http://localhost:4000/jekyll-test/using_the_shell/03_streams-and-pipes"
                    >
                      (WIP) Streams and Pipes
                    </a>
                  </li>
                
                  <li>
                    <a
                      class=""
                      href="http://localhost:4000/jekyll-test/using_the_shell/04_commands"
                    >
                      Useful Commands
                    </a>
                  </li>
                
                  <li>
                    <a
                      class=""
                      href="http://localhost:4000/jekyll-test/using_the_shell/05_one-liners"
                    >
                      (WIP) Useful One-Liners
                    </a>
                  </li>
                
              </ul>
            </section>
          
        
          
          
          
            <section class="subnav">
              <span class="selected-module">
                Tmux
              </span>
              <ul class="">
                
                
                  <li>
                    <a
                      class=""
                      href="http://localhost:4000/jekyll-test/tmux/index"
                    >
                      Tmux Intro
                    </a>
                  </li>
                
                  <li>
                    <a
                      class=""
                      href="http://localhost:4000/jekyll-test/tmux/01_basic-usage"
                    >
                      Tmux Basic Usage
                    </a>
                  </li>
                
                  <li>
                    <a
                      class="selected-section"
                      href="http://localhost:4000/jekyll-test/tmux/02_configuration"
                    >
                      Tmux Configuration
                    </a>
                  </li>
                
              </ul>
            </section>
          
        
      </section>
    </nav>
    <main>
      <ul id="markdown-toc">
  <li><a href="#tmux-configuration" id="markdown-toc-tmux-configuration">Tmux Configuration</a>    <ul>
      <li><a href="#overview" id="markdown-toc-overview">Overview</a>        <ul>
          <li><a href="#status-line" id="markdown-toc-status-line">Status Line</a>            <ul>
              <li><a href="#format-string" id="markdown-toc-format-string">Format String</a></li>
            </ul>
          </li>
        </ul>
      </li>
      <li><a href="#tmux-send-keys" id="markdown-toc-tmux-send-keys">tmux-send-keys</a></li>
      <li><a href="#plugins-and-alternatives" id="markdown-toc-plugins-and-alternatives">Plugins and Alternatives</a></li>
      <li><a href="#references" id="markdown-toc-references">References:</a></li>
    </ul>
  </li>
</ul>

<h1 id="tmux-configuration">Tmux Configuration</h1>

<h2 id="overview">Overview</h2>

<p>You can copy the provided configuration file to <code>~.tmux.conf</code> or <code>~/.config/tmux/tmux.conf</code> and use it directly. It’s a pretty standard configuration and it’s short enough that we can walk through the whole thing, and you can change it to your taste.</p>

<p>Start by <code>sourcing</code> the <a href="./tmux.conf">Example tmux.conf</a> into your current session:</p>

<ol>
  <li>Copy the example config file to <code>~/.tmux.conf</code> (or <code>~/.config/tmux/tmux.conf</code>).</li>
  <li>In your open session, execute <code>C-b :</code> to bring up the command prompt.</li>
  <li>Type <code>source-file ~/.tmux.conf</code> and press <code>Enter</code>/<code>Return</code> to activate that configuration.</li>
</ol>

<p class="note">This config changes the <code>prefix</code> to <code>C-a</code>. Keep that in mind as you continue so you can translate any examples to the correct sequence.</p>

<p>The first customization I always make is to re-bind the <code>prefix</code> key. By default, it’s <code>C-b</code> (<code>Ctrl+b</code>). That’s kind of awkward to type, and feels like it’s probably bad for your wrist (on a US QWERTY keyboard).</p>

<p>You may like to re-bind the <code>prefix</code> to something like <code>C-a</code> or even “`” (backtick).</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>unbind C-b
set -g prefix C-a
bind C-a send-prefix
</code></pre></div></div>

<p>Using <code>C-a</code> is a little more comfortable, doesn’t typically conflict with other common keybindings, and matches the <code>prefix</code> idiom used by <code>gnu-screen</code>.</p>

<p>The idea behind using “`” was that it was a single-key prefix, which makes it easy to type, and it’s rarely typed in day-to-day work. If you do need to use it, you can hit “`” twice in a row. However, I find myself writing a lot more <code>markdown</code> with code sections, or other applications where I actually need to use “`”. So I typically use <code>C-a</code> myself.</p>

<p>I also like to bind a key to <code>source</code> the configuration file to apply recent changes:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>unbind r
bind r source-file ~/.config/tmux/tmux.conf
</code></pre></div></div>

<p>I disable support for mouse selection and input, set the clock to 24-hour format, and set a large history limit. You may want to customize these:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>set  -g mouse             off
setw -g clock-mode-style  24
set  -g history-limit     50000
</code></pre></div></div>

<h3 id="status-line">Status Line</h3>

<p>The <code>tmux</code> status-line shows a list of active windows in your session, and indicates which one is selected.</p>

<p>It can also be configured to show useful information about your command, session, or system environment.</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>set -g status-style bg='#111111',fg='#676E7D'
set -g status-interval 1
set -g status-left '[#{session_name}] '
set -g status-right '%Y-%m-%d %T %A'
set-option -g status-position bottom
</code></pre></div></div>

<p><img src="./images/status-style.png" alt="image" /></p>

<h4 id="format-string">Format String</h4>

<p>If you’ve ever <a href="../zsh_configuration/02_prompt">configured a prompt-string for your shell</a>, then you know how this works. Of course, <code>tmux</code> has it’s own system and syntax, different from that of <code>zsh</code>. But, just like configuring your <code>zsh</code> prompt, you probably only need to do it one time, and it’s not actually very hard.</p>

<p>You still supply a format-string, and certain characters and escape sequences will be replaced when the status line is rendered.</p>

<p><a href="https://www.man7.org/linux/man-pages/man1/tmux.1.html#FORMATS">Reference manual</a></p>

<ul>
  <li>Format variables are enclosed in <code>#{ ... }</code>. Example: <code>#{session_name}</code> would be replaced with the name of the current session.</li>
  <li>There is a ternary operator <code>${?VAR,TRUE,FALSE}</code>. Example: <code>#{?window_zoomed_flag,🔍,}</code> would show a magnifying glass icon if <code>zoom mode</code> is active, or nothing otherwise.</li>
  <li>Shell commands can be included in <code>#( ... )</code>. Example: <code>#(uptime)</code> would run the <code>uptime</code> command and render the output.</li>
  <li>Style sections of the status line with <code>#[STYLES]</code>. Example: <code>#[fg=FFFFFF bg=000000 bold]</code> would change the style to white foreground and black background, with bold text.</li>
  <li>Use the style <code>default</code> to reset to the default <code>status-style</code> colors from your configuration. Example: <code>#[default]</code>.</li>
</ul>

<p>Show current date and day of the week, in a blue color:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>set -g status-right '#[fg=#4EA1FF]%Y-%m-%d %T %A'
# you might need to make the section max-width to make room
set -g status-right-length 40
</code></pre></div></div>

<p>Show the name of the current session (<code>#S</code>), the number of clients connected to the session in parentheses, in blue text. And show a magnifying glass on the left when <code>zoom mode</code> is active:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>set -g status-left '#[fg=#4EA1FF]#{?window_zoomed_flag,🔍,}[#S(#{session_attached})]'
# you might need to make the section max-width to make room
set -g status-right-length 20
</code></pre></div></div>

<p><img src="./images/status-style2.png" alt="image" /></p>

<p>The default styles and colors are set by the <code>status-style</code> option. When you use <code>#{default}</code> to reset styles, this is what it will use as the default.</p>

<p>You can also set a different style for the active session “tab” on the status line with <code>window-status-current-style</code>.</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>set-option -g window-status-current-style fg=#BD5EFF
</code></pre></div></div>

<p><img src="./images/status-style3.png" alt="image" /></p>

<h2 id="tmux-send-keys">tmux-send-keys</h2>

<p>You can run a command from one shell, and have <code>tmux</code> type the arguments into another pane.</p>

<p>This is a cool trick and can be very useful for scripting or making custom keybindings to coordinate things between multiple panes.</p>

<ol>
  <li>Make sure you have at least one vertical split on your open <code>window</code> (<code>prefix "</code>).</li>
  <li>Navigate to the top pane with <code>prefix ↑</code>.</li>
  <li>Type the following command at the terminal:</li>
</ol>

<div class="language-zsh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tmux send-keys <span class="nt">-t</span> <span class="o">{</span>down-of<span class="o">}</span> <span class="s2">"ls -al"</span> Enter
</code></pre></div></div>

<p><img src="./images/tmux-send-keys.png" alt="image" /></p>

<h2 id="plugins-and-alternatives">Plugins and Alternatives</h2>

<p>There are plugins for <code>tmux</code>, and even plugin managers. I’ve never used a <code>tmux</code> plugin myself but, if you are interested, <a href="https://github.com/tmux-plugins/list">here is a list</a>.</p>

<p>There are a few alternatives to <code>tmux</code> that are worth mentioning:</p>

<ul>
  <li><code>gnu-screen</code> (<code>screen</code>) is an older terminal multiplexer. It has fewer features, and doesn’t support splitting screens into multiple <code>panes</code>, but you can have multiple <code>windows</code> and you can detach and re-attach to sessions. It’s frequently found on development servers, where you connect remotely via <code>ssh</code>. If you work from within <code>screen</code>, then you can resume your session if the network connection is cut-off, or allow other users to join your session and pair.</li>
  <li><a href="https://github.com/zellij-org/zellij"><code>zellij</code></a> is a newer, rust-based “workspace manager” that has many of the same features as <code>tmux</code>. I’ve never used it, but it seems to be quite popular.</li>
  <li><a href="https://ghostty.org/"><code>ghostty</code></a> is a brand new terminal emulator that also allows you to make splits and <code>windows</code>, but no support for <code>sessions</code> yet.</li>
</ul>

<p>I prefer to use a terminal emulator that doesn’t have splits or windows, like <a href="https://sw.kovidgoyal.net/kitty/">kitty</a>, and use that with <code>tmux</code> for layout management.</p>

<h2 id="references">References:</h2>

<ul>
  <li><code>man tmux</code></li>
  <li><a href="https://github.com/tmux/tmux/wiki">https://github.com/tmux/tmux/wiki</a></li>
  <li><a href="https://github.com/tmux/tmux/wiki/Installing">https://github.com/tmux/tmux/wiki/Installing</a></li>
  <li><a href="https://github.com/tmux/tmux/wiki/Getting-Started">https://github.com/tmux/tmux/wiki/Getting-Started</a></li>
  <li><a href="https://tmuxreference.com/">https://tmuxreference.com/</a></li>
</ul>

<hr />

<p><a href="../">HOME</a></p>

    </main>
    <footer>
      <a href="/jekyll-test/"> davelab</a>
      <section>
        <a href="/jekyll-test/test">(Secret test page)</a>
        <a href="/jekyll-test/about">ABOUT</a>
        <a href="https://github.com/dczmer/davelab.git" target="_blank"> GITHUB</a>
      </section>
    </footer>
  </body>
</html>
